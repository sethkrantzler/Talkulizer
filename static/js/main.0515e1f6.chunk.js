(this["webpackJsonpvisualizer-app"]=this["webpackJsonpvisualizer-app"]||[]).push([[0],{121:function(e,t,a){},122:function(e,t,a){},148:function(e,t,a){"use strict";a.r(t);var r=a(2),n=a(0),s=a.n(n),o=a(17),i=a.n(o),c=(a(121),a(5)),l=a(12),u=a(9),d=a(10),h=a(11),f=a(18),p=a(23),y=a(7),j=a(87),b=(a(122),a(191)),g=a(151),x=a(160),m=a(158),O=a(200),z=a(195),v=a(202),R=[{name:"Rainbow",palette_6:["#A800FF","#0079FF","#00F11D","#FFEF00","#FF7F00","#FF0900"],palette_11:["#8D5BFF","#6D5BFF","#5B8FFF","#5BFFE7","#5BFF76","#CAFF5B","#FFE05B","#FFA75B","#FF6B5B","#FF5B89","#FF2E37"]},{name:"SL2T_1",palette_6:["#46237A","#FFB400","#CFFFB3","#337CA0","#EE5622","#3A5311"],palette_11:["#46237A","#D1B1CB","#DDCAD9","#FFB400","#EE5622","#337CA0","3891A6","#2EC4B6","#9FC490","#CFFFB3","#3A5311"]},{name:"Cyberpunk",palette_6:["#2d00f7","#8900f2","#b100e8","#db00b6","#f20089","#faff00"],palette_11:["#2d00f7","#6a00f4","#8900f2","#a100f2","#b100e8","#bc00dd","#db00b6","#e500a4","#f20089","#faff00","#faff09"]},{name:"Ocean",palette_6:["#014f86","#2c7da0","#468faf","#90e0ef","#ade8f4","#caf0f8"],palette_11:["#013a63","#01497c","#014f86","#2a6f97","#2c7da0","#2c7da0","#468faf","#61a5c2","#89c2d9","#a9d6e5","#caf0f8"]},{name:"Sunset",palette_6:["#d00000","#dc2f02","#e85d04","#f48c06","#faa307","#ffba08"],palette_11:["#6a040f","#d00000","#dc2f02","#dc2f02","#e85d04","#EE5622","#f48c06","#faa307","#ffba12","#ffba08","#faff00"]},{name:"Earth",palette_6:["#606c38","#283618","#fefae0","#dda15e","#bc6c25","#6a040f"],palette_11:["#606c38","#ccd5ae","#e9edc9","#d4a373","#edf2f4","#283618","#faedcd","#fefae0","#dda15e","#bc6c25","#6a040f"]},{name:"Cherry Blossom",palette_6:["#D6B95A","#69306D","#A5668B","#4CBFAC","#D00000","#F2D7EE"],palette_11:["#D6B95A","#DEFFF2","#4CBFAC","#F2D7EE","#A1275D","#FFFFFF","#A1275D","#F2D7EE","#4CBFAC","#DEFFF2","#D6B95A"]}],C=a(75),w=a.n(C),F=function(e,t,a,r){var n=function(e,t,a,r){return Math.atan2(e-t,a-r)}(e,t,a,r);return M(n)},M=function(e){return[Math.sin(e),Math.cos(e)]},I=a(95),k=a(189),B=a(72),S=a(201),q=a(197),A=a(198),_=a(196),P=a(156),D=a(199),T=Object(k.a)((function(e){return{title:{textAlign:"center","& h2":{fontSize:"2.25em"}},containsText:{color:"black",padding:"10px"},seperator:{border:"1px solid black",borderRadius:"75px",width:"80%"},shortcutItem:{paddingLeft:"5%"},shortcutKey:{maxWidth:"150px"},shortcutHeaders:{paddingLeft:"5%","& span":{fontWeight:"bold"}},inputButton:{backgroundColor:B.a[100],color:"black",width:"33%",margin:"20px"},buttonContainer:{display:"flex",justifyContent:"center"}}})),E=[{key:"R",text:"Random Preset"},{key:"C",text:"Toggle automatic cycling"},{key:"Up",text:"Increase cycle period"},{key:"Down",text:"Decrease cycle period"},{key:"Left Mouse",text:"Rotate Camera"},{key:"Middle Mouse",text:"Zoom"},{key:"Right Mouse",text:"Pan Camera"},{key:"G",text:"Green Screen Background"},{key:"B",text:"Blue Screen Background"},{key:"H",text:"Random Background"},{key:"U",text:"Toggle UI"},{key:".",text:"Reset Camera"},{key:",",text:"Enable Camera Autorotate"}];function U(e){var t=T(),a=e.close,n=e.open,s=e.setSpeakerAsInput,o=e.setMicAsInput;return Object(r.jsxs)(S.a,{onClose:a,open:n,children:[Object(r.jsx)(q.a,{className:t.title,children:"Welcome to the Talkulizer!"}),Object(r.jsx)(A.a,{className:t.containsText,children:"Before we can start, you'll need to decide whether you want to use your computer's microphone or your speakers as the visualizer's input. (NOTE: If you select 'Speakers', a menu will pop up asking you to select your source. If on Windows, select any screen, and make sure the 'Share Audio' button in the bottom left is selected. On Mac, this option is only present from selecting a chrome tab, so any audio you want to visualize will need to come from that tab.)"}),Object(r.jsxs)("div",{className:t.buttonContainer,children:[Object(r.jsx)(b.a,{className:t.inputButton,onClick:s,children:"Speakers"}),Object(r.jsx)(b.a,{className:t.inputButton,onClick:o,children:"Mic"})]}),Object(r.jsx)("hr",{className:t.seperator}),Object(r.jsx)(A.a,{className:t.containsText,children:"I made this audio visualizer to be fully customizable, there's over 20 different visualiztion types, with multiple parameters to change each one. I've provided over 75 presets from my testing that look cool, but play around and find what you think looks cool! Here are some handy shortcuts that I've made to help make using the visualizer easier."}),Object(r.jsxs)(_.a,{children:[Object(r.jsxs)(P.a,{className:t.shortcutHeaders,children:[Object(r.jsx)(D.a,{className:t.shortcutKey,primary:"Key"}),Object(r.jsx)(D.a,{primary:"Description"})]},"headers"),E.map((function(e){return Object(r.jsxs)(P.a,{className:t.shortcutItem,children:[Object(r.jsx)(D.a,{className:t.shortcutKey,primary:e.key}),Object(r.jsx)(D.a,{primary:e.text})]},e.key)}))]})]})}Object(p.b)({OrbitControls:j.a});var L=function(){var e=Object(p.d)(),t=e.camera,a=e.gl.domElement,s=Object(n.useRef)();Object(p.c)((function(e){return s.current.update()}));var o=Object(n.useState)(!1),i=Object(f.a)(o,2),c=i[0],l=i[1];return Object(n.useEffect)((function(){window.addEventListener("keydown",(function(e){var t;"."==e.key&&(null===(t=s.current)||void 0===t||t.reset());","==e.key&&l((function(e){return!e}))}))}),[s]),Object(r.jsx)("orbitControls",{ref:s,args:[t,a],autoRotate:c})};function N(e){var t=Object(n.useRef)(null),a=Object(n.useRef)(null),s=[!0,!0,!1,!1,!0,!0,!1,!1],o=0,i=new Uint8Array(0);return Object(n.useEffect)((function(){e.analyzer&&0==o&&(o=e.analyzer.frequencyBinCount,i=new Uint8Array(o),e.analyzer.getByteFrequencyData(i))})),Object(p.c)((function(){t&&t.current&&e.analyzer&&i&&(e.analyzer.getByteFrequencyData(i),function(t,a){for(var r,n=a.subarray(e.freqRange.start,e.freqRange.end),o=n.length>0?(r=n).reduce((function(e,t){return e+t}))/r.length:0,i=0;i<t.length;i++)t[i].y=s[i]?e.height*o/255:0}(t.current.vertices,i),t.current.verticesNeedUpdate=!0)})),Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("mesh",Object(h.a)(Object(h.a)({ref:a},e),{},{scale:[1*e.width,1,0],rotation:[0,0,e.rot?e.rot:0],children:[Object(r.jsx)("boxGeometry",{ref:t,attach:"geometry"}),Object(r.jsx)("meshBasicMaterial",{color:e.color})]}))})}function W(e){for(var t=Object(n.useRef)(null),a=Object(n.useRef)(null),s=0,o=new Uint8Array(0),i=[],c=0;c<2048;c++)i.push(new y.Vector2(6+-24*c/2048,0));return Object(n.useEffect)((function(){e.analyzer&&0==s&&(s=e.analyzer.frequencyBinCount,o=new Uint8Array(s),e.analyzer.getByteTimeDomainData(o))})),Object(p.c)((function(){t&&t.current&&e.analyzer&&o&&(e.analyzer.getByteTimeDomainData(o),t.current.setFromPoints(function(t,a){for(var r=0;r<t.length;r++)t[r].y=(a[r]-128)*e.height/128;return t}(i,o)))})),Object(r.jsxs)("line",Object(h.a)(Object(h.a)({ref:a},e),{},{scale:[1,1,1],children:[Object(r.jsx)("bufferGeometry",{ref:t,attach:"geometry"}),Object(r.jsx)("lineBasicMaterial",{color:e.color})]}))}function V(e){for(var t=Object(n.useRef)(null),a=Object(n.useRef)(null),s=0,o=new Uint8Array(0),i=[],c=0;c<500;c++)i.push(new y.Vector2(5+-10*c/500,Math.random()));return Object(n.useEffect)((function(){e.analyzer&&0==s&&(s=e.analyzer.frequencyBinCount,o=new Uint8Array(s),e.analyzer.getByteFrequencyData(o))})),Object(p.c)((function(){t&&t.current&&e.analyzer&&o&&(e.analyzer.getByteFrequencyData(o),t.current.setFromPoints(function(e,t,a,r){for(var n,s=t.subarray(a.start,a.end),o=s.length>0?(n=s).reduce((function(e,t){return e+t}))/n.length:0,i=0;i<e.length;i++)e[i].y=(Math.pow(2,o/255)-1)*Math.exp(.65*-Math.abs(e[i].x))*Math.cos(2*Math.PI*e[i].x+Date.now()/400);return e}(i,o,e.freqRange)))})),Object(r.jsxs)("line",Object(h.a)(Object(h.a)({ref:a},e),{},{scale:[1,1,1],children:[Object(r.jsx)("bufferGeometry",{ref:t,attach:"geometry"}),Object(r.jsx)("lineBasicMaterial",{color:e.color})]}))}function H(e){for(var t=Object(n.useRef)(null),a=Object(n.useRef)(null),s=0,o=new Uint8Array(0),i=[],c=0;c<500;c++)i.push(new y.Vector2(0,3+-6*c/500));return Object(n.useEffect)((function(){e.analyzer&&0==s&&(s=e.analyzer.frequencyBinCount,o=new Uint8Array(s),e.analyzer.getByteFrequencyData(o))})),Object(p.c)((function(){t&&t.current&&e.analyzer&&o&&(e.analyzer.getByteFrequencyData(o),t.current.setFromPoints(function(e,t,a,r){for(var n,s=t.subarray(a.start,a.end),o=s.length>0?(n=s).reduce((function(e,t){return e+t}))/n.length:0,i=0;i<e.length;i++)e[i].x=(Math.pow(2,o/255)-1)*Math.exp(.65*-Math.abs(e[i].y))*Math.cos(2*Math.PI*e[i].y+Date.now()/400);return e}(i,o,e.freqRange)))})),Object(r.jsxs)("line",Object(h.a)(Object(h.a)({ref:a},e),{},{scale:[1,1,1],children:[Object(r.jsx)("bufferGeometry",{ref:t,attach:"geometry"}),Object(r.jsx)("lineBasicMaterial",{color:e.color})]}))}function G(e){for(var t=Object(n.useRef)(null),a=Object(n.useRef)(null),s=[{start:0,end:2,color:"#CFFFB3"},{start:4,end:10,color:"#337CA0"},{start:13,end:22,color:"#46237A"},{start:40,end:88,color:"#FFB400"},{start:100,end:256,color:"#EE5622"},{start:500,end:852,color:"#3A5311"}],o=0,i=new Uint8Array(0),c=[],l=0;l<500;l++)c.push(new y.Vector2(0,3+-6*l/500));return Object(n.useEffect)((function(){e.analyzer&&0==o&&(o=e.analyzer.frequencyBinCount,i=new Uint8Array(o),e.analyzer.getByteFrequencyData(i))})),Object(p.c)((function(){a&&a.current&&e.analyzer&&i&&(e.analyzer.getByteFrequencyData(i),a.current.material.color.set(function(){var e=0,t=0;return s.map((function(a,r){var n,s=(n=i.subarray(a.start,a.end)).reduce((function(e,t){return e+t}))/n.length;s>e&&(t=r,e=s)})),s[t].color}()),a.current.rotation.set(a.current.rotation.x+.005,a.current.rotation.y+.005,a.current.rotation.z))})),Object(r.jsxs)("mesh",Object(h.a)(Object(h.a)({ref:a},e),{},{scale:[1,1,1],children:[Object(r.jsx)("planeBufferGeometry",{ref:t,args:[3,3],attach:"geometry"}),Object(r.jsx)("meshBasicMaterial",{color:"purple",side:y.DoubleSide,attach:"material"})]}))}function K(e){for(var t=Object(n.useRef)(null),a=Object(n.useRef)(null),s=[{start:0,end:2,color:"#CFFFB3"},{start:4,end:10,color:"#337CA0"},{start:13,end:22,color:"#46237A"},{start:40,end:88,color:"#FFB400"},{start:100,end:256,color:"#EE5622"},{start:500,end:852,color:"#3A5311"}],o=0,i=new Uint8Array(0),c=[],l=0;l<500;l++)c.push(new y.Vector2(0,3+-6*l/500));return Object(n.useEffect)((function(){e.analyzer&&0==o&&(o=e.analyzer.frequencyBinCount,i=new Uint8Array(o),e.analyzer.getByteFrequencyData(i))})),Object(p.c)((function(){a&&a.current&&e.analyzer&&i&&(e.analyzer.getByteFrequencyData(i),a.current.material.color.set(function(){var e=0,t=0;return s.map((function(a,r){var n,s=(n=i.subarray(a.start,a.end)).reduce((function(e,t){return e+t}))/n.length;s>e&&(t=r,e=s)})),s[t].color}()),a.current.rotation.set(a.current.rotation.x+.005,a.current.rotation.y+.005,a.current.rotation.z))})),Object(r.jsxs)("mesh",Object(h.a)(Object(h.a)({ref:a},e),{},{scale:[1,1,1],children:[Object(r.jsx)("boxBufferGeometry",{ref:t,args:[3,3,3],attach:"geometry"}),Object(r.jsx)("meshBasicMaterial",{color:"purple",side:y.DoubleSide,attach:"material"})]}))}function J(e){for(var t=Object(n.useRef)(null),a=Object(n.useRef)(null),s=0,o=new Uint8Array(0),i=[],c=0;c<500;c++)i.push(new y.Vector2(5+-10*c/500,Math.random()));return Object(n.useEffect)((function(){e.analyzer&&0==s&&(s=e.analyzer.frequencyBinCount,o=new Uint8Array(s),e.analyzer.getByteFrequencyData(o))})),Object(p.c)((function(){a&&a.current&&t&&t.current&&e.analyzer&&o&&(a.current.scale.set(a.current.scale.x+e.scaleRate,a.current.scale.y+e.scaleRate,a.current.scale.z),e.analyzer.getByteFrequencyData(o),t.current.vertices=function(t,a,r,n){for(var s,o=a.subarray(r.start,r.end),i=(o.length>0?(s=o).reduce((function(e,t){return e+t}))/s.length:0)/255,c=e.n>2?e.n:2,l=2*Math.PI/t.length,u=0;u<t.length;u++){var d=e.indexStart?u+1*l:u*l;t[u].x=(e.ringWidth+i*Math.cos(c*d))*Math.cos(d+.001*Date.now()),t[u].y=(e.ringWidth+i*Math.cos(c*d))*Math.sin(d+.001*Date.now())}return t}(t.current.vertices,o,e.freqRange),t.current.verticesNeedUpdate=!0,a.current.scale.x>10&&(a.current.scale.set(.01,.01,1),a.current.position.set(a.current.position.x,a.current.position.y,a.current.position.z+1e-4)))})),Object(r.jsxs)("mesh",Object(h.a)(Object(h.a)({ref:a},e),{},{scale:[e.radius,e.radius,1],children:[Object(r.jsx)("ringGeometry",{ref:t,args:[1-e.ringSize/2,1+e.ringSize/2,1024],attach:"geometry"}),Object(r.jsx)("meshBasicMaterial",{color:e.color})]}))}function Z(e){for(var t=Object(n.useRef)(null),a=Object(n.useRef)(null),s=0,o=new Uint8Array(0),i=[],c=0;c<500;c++)i.push(new y.Vector2(5+-10*c/500,Math.random()));return Object(n.useEffect)((function(){e.analyzer&&0==s&&(s=e.analyzer.frequencyBinCount,o=new Uint8Array(s),e.analyzer.getByteFrequencyData(o))})),Object(p.c)((function(){t&&t.current&&e.analyzer&&o&&(e.analyzer.getByteFrequencyData(o),t.current.setFromPoints(function(e,t,a,r){for(var n,s=t.subarray(a.start,a.end),o=s.length>0?(n=s).reduce((function(e,t){return e+t}))/n.length:0,i=0;i<e.length;i++)e[i].y=(Math.pow(2,o/255)-1)*Math.exp(.65*-Math.abs(e[i].x))*Math.cos(2*Math.PI*e[i].x+Date.now()/400);return e}(i,o,e.freqRange)))})),Object(r.jsxs)("mesh",Object(h.a)(Object(h.a)({ref:a},e),{},{scale:[1,1,1],children:[Object(r.jsx)("circleBufferGeometry",{ref:t,args:[1,1024],attach:"geometry"}),Object(r.jsx)("meshBasicMaterial",{color:e.color})]}))}function Q(e){var t=Object(n.useRef)(null),a=Object(n.useRef)(null),s=0,o=new Uint8Array(0),i=[];function c(e){return e.reduce((function(e,t){return e+t}))/e.length}return Object(n.useEffect)((function(){for(var t=0;t<500;t++)i.push(new y.Vector2(5+-10*t/500,Math.random()));e.analyzer&&0==s&&(s=e.analyzer.frequencyBinCount,o=new Uint8Array(s),e.analyzer.getByteFrequencyData(o))})),Object(p.c)((function(){t&&t.current&&e.analyzer&&o&&(e.bolt?(e.analyzer.getByteFrequencyData(o),t.current.setFromPoints(function(e,t,a,r){for(var n=t.subarray(a.start,a.end),s=n.length>0?c(n):0,o=0;o<e.length;o++)e[o].y=(Math.pow(2,s/255)-1)*Math.exp(.65*-Math.abs(e[o].x))*Math.cos(2*Math.PI*e[o].x+Date.now()/400);return e}(i,o,e.freqRange))):(a.current.scale.set(a.current.scale.x+e.scaleRate,a.current.scale.y+e.scaleRate,a.current.scale.z),e.analyzer.getByteFrequencyData(o),t.current.vertices=function(t,a,r,n){for(var s=a.subarray(r.start,r.end),o=(s.length>0?c(s):0)/255*.1,i=2*Math.PI/t.length,l=0;l<t.length;l++){var u=l+1*i;t[l].x=(e.ringWidth+o*Math.cos(e.n*u))*Math.cos(u+1e-4*Date.now()),t[l].y=(e.ringWidth+o*Math.cos(e.n*u))*Math.sin(u+1e-4*Date.now())}return t}(t.current.vertices,o,e.freqRange),t.current.verticesNeedUpdate=!0,a.current.scale.x>10&&(a.current.scale.set(.01,.01,1),a.current.position.set(a.current.position.x,a.current.position.y,a.current.position.z+1e-4))))})),Object(r.jsxs)("mesh",Object(h.a)(Object(h.a)({ref:a},e),{},{scale:[e.bolt?1:e.radius,e.bolt?1:e.radius,1],children:[Object(r.jsx)("circleGeometry",{ref:t,args:[1,500],attach:"geometry"}),Object(r.jsx)("meshBasicMaterial",{color:e.color})]}))}function Y(e){var t=Object(n.useRef)(null),a=Object(n.useRef)(null),s=0,o=new Uint8Array(0),i=!1,c=Object(n.useState)(0),l=Object(f.a)(c,2),u=l[0],d=l[1];return Object(n.useEffect)((function(){i=!1,e.analyzer&&0==s&&(s=e.analyzer.frequencyBinCount,o=new Uint8Array(s),e.analyzer.getByteFrequencyData(o))})),Object(p.c)((function(){if(a&&a.current&&!i&&(!function(t){for(var a=2*Math.PI/t.length,r=0;r<t.length;r++){var n=r+1*a;t[r].x=e.size*Math.cos(e.n*n)*Math.cos(n),t[r].y=e.size*Math.cos(e.n*n)*Math.sin(n)}}(a.current.geometry.vertices),a.current.geometry.verticesNeedUpdate=!0,a.current.rotation.x=0,a.current.rotation.y=0,a.current.rotation.z=0,i=!0),a&&a.current&&t&&e.analyzer&&o){var r;e.analyzer.getByteFrequencyData(o);var n=function(t){var r,n=t.subarray(e.freqRange.start,e.freqRange.end),s=n.length>0?(r=n).reduce((function(e,t){return e+t}))/r.length:0;if(e.loop){var o;if(e.seperate){var i=u+(s/255+.15)*(e.speed/1e3);o=i>Math.PI?-1*Math.PI:i,d(o)}else o=Math.PI/(2*e.speed*2.5)*(Date.now()%(10*e.speed))-Math.PI/4+s/255*.5;var c=e.lineWidth*Math.cos(o)/(1+Math.pow(Math.sin(o),2)),l=e.lineWidth*Math.sin(o)*Math.cos(o)/(1+Math.pow(Math.sin(o),2));return new y.Vector3(c,l,0)}return a.current.position.x>8?new y.Vector3(-8,0,0):new y.Vector3(a.current.position.x+(s/255+.4)*(e.speed/1e3),0,0)}(o);if(e.offaxis&&e.loop)r=new y.Vector3(n.x-a.current.position.x,n.y-a.current.position.y,0),a.current.lookAt(r);else if(e.offaxis&&!e.loop)a.current.lookAt(new y.Vector3(0,1,0));else{var s=F(a.current.position.x,n.x,n.y,a.current.position.y),c=(l=s[0],h=s[1],Math.atan2(l,h));a.current.rotation.z=c+Math.PI/2}a.current.position.x=n.x,a.current.position.y=n.y,a.current.position.z=n.z}var l,h})),Object(r.jsxs)("mesh",Object(h.a)(Object(h.a)({ref:a},e),{},{scale:[10,10,10],children:[Object(r.jsx)("circleGeometry",{ref:t,args:[1,500],attach:"geometry"}),Object(r.jsx)("meshBasicMaterial",{color:e.color})]}))}function $(e){var t=Object(n.useRef)(null),a=Object(n.useRef)(null),s=0,o=new Uint8Array(0),i=!1,c=Object(n.useState)(0),l=Object(f.a)(c,2),u=l[0],d=l[1];return Object(n.useEffect)((function(){i=!1,e.analyzer&&0==s&&(s=e.analyzer.frequencyBinCount,o=new Uint8Array(s),e.analyzer.getByteFrequencyData(o))})),Object(p.c)((function(){if(a&&a.current&&!i&&(!function(t){for(var a=2*Math.PI/t.length,r=0;r<t.length;r++){var n=r+1*a;t[r].z=e.size*Math.cos(e.n*n)*Math.cos(n),t[r].y=e.size*Math.cos(e.n*n)*Math.sin(n)}}(a.current.geometry.vertices),a.current.geometry.verticesNeedUpdate=!0,a.current.rotation.x=0,a.current.rotation.y=0,a.current.rotation.z=0,i=!0),a&&a.current&&t&&e.analyzer&&o){var r;e.analyzer.getByteFrequencyData(o);var n=function(t){var r,n=t.subarray(e.freqRange.start,e.freqRange.end),s=n.length>0?(r=n).reduce((function(e,t){return e+t}))/r.length:0;if(e.loop){var o;if(e.seperate){var i=u+(s/255+.15)*(e.speed/1e3);o=i>Math.PI?-1*Math.PI:i,d(o)}else o=Math.PI/(2*e.speed*2.5)*(Date.now()%(10*e.speed))-Math.PI/4+s/255*.5;var c=e.lineWidth*Math.cos(o)/(1+Math.pow(Math.sin(o),2)),l=e.lineWidth*Math.sin(o)*Math.cos(o)/(1+Math.pow(Math.sin(o),2));return new y.Vector3(c,l,0)}return a.current.position.x>8?new y.Vector3(-8,0,0):new y.Vector3(a.current.position.x+(s/255+.4)*(e.speed/1e3),0,0)}(o);e.offaxis&&e.loop?(r=new y.Vector3(n.x-a.current.position.x,n.y-a.current.position.y,0),a.current.lookAt(r)):e.offaxis&&!e.loop?a.current.lookAt(new y.Vector3(0,1,0)):a.current.lookAt(new y.Vector3(n.x,n.y,1)),a.current.position.x=n.x,a.current.position.y=n.y,a.current.position.z=n.z}})),Object(r.jsxs)("mesh",Object(h.a)(Object(h.a)({ref:a},e),{},{scale:[10,10,10],children:[Object(r.jsx)("circleGeometry",{ref:t,args:[1,500],attach:"geometry"}),Object(r.jsx)("meshBasicMaterial",{color:e.color})]}))}function X(e){var t=Object(n.useRef)(null),a=0,s=new Uint8Array(0),o=new y.QuadraticBezierCurve3(new y.Vector3(0,1,0),new y.Vector3(0,.25,.2),new y.Vector3(0,0,1)).getPoints(1024);Object(n.useEffect)((function(){e.analyzer&&0==a&&(a=e.analyzer.frequencyBinCount,s=new Uint8Array(a),e.analyzer.getByteFrequencyData(s))})),Object(p.c)((function(){i&&i.current&&e.analyzer&&s&&(e.analyzer.getByteFrequencyData(s),i.current.setFromPoints(function(t,a,r,n){var s,o=a.subarray(r.start,r.end),i=o.length>0?(s=o).reduce((function(e,t){return e+t}))/s.length:0;if(e.flat)for(var c=0;c<t.length;c++)t[c].y=i/2550*Math.exp(.65*-Math.abs(t[c].z))*Math.cos(2*Math.PI*t[c].z);else if(e.fuzz)for(var l=0;l<t.length;l++)t[l].x=Math.random()*(i/255);else for(var u=0;u<t.length;u++)t[u].x=i/2550*Math.exp(.65*-Math.abs(t[u].z))*Math.cos(2*Math.PI*t[u].z);return t}(o,s,e.freqRange)))}));var i=Object(p.e)((function(e){e.setFromPoints(o)}),[]);return Object(r.jsxs)("line",Object(h.a)(Object(h.a)({ref:t},e),{},{scale:[1,1,1],rotation:[0,30*Math.PI/180,0],children:[Object(r.jsx)("bufferGeometry",{ref:i,attach:"geometry"}),Object(r.jsx)("meshBasicMaterial",{color:e.color})]}))}var ee=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).dbUrl=void 0,r.isLocalHost=void 0,r.sliderLabels={standard:{param1:"Bars",param2:"Y Position",offset:"Spread",spread:"Height"},waveform:{param1:"Lines",param2:"Z Position",offset:"Height",spread:""},standardRing:{param1:"Bars",param2:"Radius",offset:"Spread",spread:"Height"},foldingRing:{param1:"Bars",param2:"Radius",offset:"Spread",spread:"Height"},horizontalLines:{param1:"",param2:"",offset:"Spread",spread:"Offset"},verticalLines:{param1:"",param2:"",offset:"Spread",spread:"Offset"},circular:{param1:"n",param2:"Radius",offset:"",spread:""},bolt:{param1:"",param2:"",offset:"",spread:""},rings:{param1:"n",param2:"Radius",offset:"",spread:""},fractal:{param1:"n",param2:"Radius",offset:"",spread:""},solid:{param1:"",param2:"",offset:"",spread:""},cube:{param1:"",param2:"",offset:"",spread:""},wires:{param1:"",param2:"",offset:"",spread:"Spread"},flat:{param1:"",param2:"",offset:"",spread:"Spread"},racecar:{param1:"n",param2:"Scale",offset:"Path",spread:"Speed"},trails:{param1:"n",param2:"Scale",offset:"Path",spread:"Speed"},slide:{param1:"n",param2:"Scale",offset:"Path",spread:"Speed"},noise:{param1:"n",param2:"Scale",offset:"Path",spread:"Speed"},racecar_off:{param1:"n",param2:"Scale",offset:"Path",spread:"Speed"},trails_off:{param1:"n",param2:"Scale",offset:"Path",spread:"Speed"},slide_off:{param1:"n",param2:"Scale",offset:"Path",spread:"Speed"},noise_off:{param1:"n",param2:"Scale",offset:"Path",spread:"Speed"}},r.setSpeakerAsSource=function(){var e=new MediaStream;navigator.mediaDevices.getDisplayMedia({video:!0,audio:!0}).then((function(t){r.fetchPresets().then(r.randomPreset),e.addTrack(t.getAudioTracks()[0].clone()),t.getVideoTracks()[0].stop(),t.removeTrack(t.getVideoTracks()[0]),r.handleAudio(e)})).catch((function(){console.error("failed")})),r.setState({showHelp:!1})},r.setMicrophoneAsSource=function(){navigator.mediaDevices.getUserMedia({audio:!0}).then(r.handleAudio).catch(r.audioError),r.fetchPresets().then(r.randomPreset),r.setState({showHelp:!1})},r.initializeAudioAnalyser=function(e){var t=new AudioContext,a=t.createMediaStreamSource(e),n=t.createAnalyser();n.fftSize=2048,n.smoothingTimeConstant=.5,a.connect(n),r.setState({analyzer:n})},r.handleAudio=function(e){r.initializeAudioAnalyser(e)},r.audioError=function(e){console.log(e),alert("Something went wrong: "+e.name)},r.backgroundChanged=function(e){var t,a=(null===(t=e.css)||void 0===t?void 0:t.backgroundColor)||e;document.getElementById("root").style.backgroundColor=a,r.setState({bgColor:a})},r.toggleUi=function(){r.setState({showUi:!r.state.showUi}),document.getElementById("uiContainer").style.height=r.state.showUi?"auto":"0",document.getElementById("uiContainer").style.opacity=r.state.showUi?"1":"0"},r.visualizerChanged=function(e){r.setState({visualizerType:e.target.value})},r.paletteChanged=function(e){r.setState({colorIndex:parseInt(e.target.value)})},r.presetNameChanged=function(e){r.setState({presetName:e.target.value})},r.spreadChanged=function(e,t){r.setState({spread:t})},r.offsetChanged=function(e,t){r.setState({offset:t})},r.param1Changed=function(e,t){r.setState({param1:t})},r.param2Changed=function(e,t){r.setState({param2:t})},r.onSavePreset=function(e){var t={presetName:r.state.presetName,visualizerType:r.state.visualizerType,colorIndex:r.state.colorIndex,spread:r.state.spread,offset:r.state.offset,param1:r.state.param1,param2:r.state.param2,bgColor:r.state.bgColor};w.a.post(r.dbUrl,t).then((function(){r.fetchPresets(),r.setState({presetName:""})})).catch((function(e){return console.log(e)}))},r.randomPreset=function(){r.onPresetSelected({target:{value:Math.floor(Math.random()*r.state.presets.length)}})},r.onPresetSelected=function(e){var t=r.state.presets[e.target.value];r.setState({visualizerType:t.visualizerType,colorIndex:t.colorIndex,spread:t.spread,offset:t.offset,param1:t.param1,param2:t.param2,selectedPreset:e.target.value}),r.backgroundChanged(t.bgColor?t.bgColor:r.state.bgColor)},r.randomCycle=function(){r.state.shouldCycle&&r.randomPreset()},r.helpClicked=function(){r.setState({showHelp:!r.state.showHelp})},r.state={analyzer:null,visualizerType:"standard",spread:1,offset:1.3,param1:2,param2:.2,colorIndex:0,presetName:"",selectedPreset:0,presets:[],sourceOptions:[],shouldCycle:!1,cycleTime:2e3,currentInterval:null,bgColor:"#040d1b",showHelp:!0,showUi:!0},r.dbUrl="http://localhost:3001/presets",r.isLocalHost=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)),r}return Object(l.a)(a,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onKeyPressed.bind(this))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyPressed.bind(this))}},{key:"onKeyPressed",value:function(e){switch(e.key.toLowerCase()){case"r":this.onPresetSelected({target:{value:Math.floor(Math.random()*this.state.presets.length)}}),this.showAlertText("Random Preset");break;case"c":this.setState({shouldCycle:!this.state.shouldCycle});var t=this.state.shouldCycle?"Cycle (".concat(this.state.cycleTime/1e3,"s)"):"Cycle (Off)";this.state.shouldCycle?this.setCycleInterval(this.state.cycleTime):this.clearCycleInterval(),this.showAlertText(t);break;case"g":this.backgroundChanged("#00ff00"),this.showAlertText("Green Background");break;case"b":this.backgroundChanged("#0000ff"),this.showAlertText("Blue Background");break;case"h":this.backgroundChanged(this.getColor(null,null)),this.showAlertText("Random Background");break;case"arrowup":if(!this.state.shouldCycle)break;this.state.cycleTime<1e3?this.setState({cycleTime:1e3}):this.state.cycleTime>=3e4?this.setState({cycleTime:this.state.cycleTime+5e3}):this.setState({cycleTime:this.state.cycleTime+1e3}),this.setCycleInterval(this.state.cycleTime),this.showAlertText("Cycle (".concat(this.state.cycleTime/1e3,"s)"));break;case"arrowdown":if(!this.state.shouldCycle)break;this.state.cycleTime<=1e3?this.setState({cycleTime:500}):this.state.cycleTime>=3e4?this.setState({cycleTime:this.state.cycleTime-5e3}):this.setState({cycleTime:this.state.cycleTime-1e3}),this.setCycleInterval(this.state.cycleTime),this.showAlertText("Cycle (".concat(this.state.cycleTime/1e3,"s)"));break;case"u":this.toggleUi(),this.showAlertText(this.state.showUi?"Toggle UI (On)":"Toggle UI (Off)")}}},{key:"clearCycleInterval",value:function(){this.state.currentInterval&&clearInterval(this.state.currentInterval)}},{key:"setCycleInterval",value:function(e){this.state.currentInterval&&clearInterval(this.state.currentInterval),this.setState({currentInterval:setInterval(this.randomPreset,e)})}},{key:"fetchPresets",value:function(){var e=this;return this.isLocalHost?w.a.get(this.dbUrl).then((function(t){e.setState({presets:t.data})})):fetch("presetDb.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(t){e.setState({presets:t.presets})}))}},{key:"showAlertText",value:function(e){var t=document.getElementById("alert-text"),a=t.firstChild;a&&t.removeChild(a);var r=document.createElement("div");r.className="fade",r.innerHTML=e,t.appendChild(r)}},{key:"getColor",value:function(e,t){return"#"+Math.random().toString(16).slice(2,8)}},{key:"standard",value:function(e,t,a,n){for(var s=Math.floor(1024/a),o=[],i=0;i<a;i++){var c=36/a-t,l=36/a*(i+1)-(18+18/a);o.push(Object(r.jsx)(N,{analyzer:this.state.analyzer,width:c,height:e,position:[l,2*-n,-10],color:this.getColor(i,a),freqRange:{start:s*i,end:s*i+s-1}}))}return Object(r.jsx)(r.Fragment,{children:o})}},{key:"standardRing",value:function(e,t,a,n,s){for(var o=Math.floor(1024/a),i=[],c=0;c<a;c++){var l=c*Math.PI*2/a,u=n*Math.cos(l),d=n*Math.sin(l);i.push(Object(r.jsx)(N,{analyzer:this.state.analyzer,width:t,height:e,position:[u,d,-10],color:this.getColor(c,a),freqRange:{start:o*c,end:o*c+o-1},rot:Math.PI+l+Math.PI/2*s}))}return Object(r.jsx)(r.Fragment,{children:i})}},{key:"waveform",value:function(e,t,a,n){var s=[];t=t>0?2*t:.1;for(var o=0;o<a;o++){var i=4/a*(o+1)-(2+2/a);s.push(Object(r.jsx)(W,{analyzer:this.state.analyzer,position:[0,i,-n],color:this.getColor(o,a),height:t}))}return Object(r.jsx)(r.Fragment,{children:s})}},{key:"horizontalLines",value:function(e,t){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(V,{analyzer:this.state.analyzer,color:R[this.state.colorIndex].palette_6[0],position:[0,-2*t-e,-1],freqRange:{start:0,end:2}}),Object(r.jsx)(V,{analyzer:this.state.analyzer,color:R[this.state.colorIndex].palette_6[1],position:[0,-1*t-e,-1],freqRange:{start:4,end:10}}),Object(r.jsx)(V,{analyzer:this.state.analyzer,color:R[this.state.colorIndex].palette_6[2],position:[0,0-e,-1],freqRange:{start:13,end:22}}),Object(r.jsx)(V,{analyzer:this.state.analyzer,color:R[this.state.colorIndex].palette_6[3],position:[0,1*t-e,-1],freqRange:{start:40,end:88}}),Object(r.jsx)(V,{analyzer:this.state.analyzer,color:R[this.state.colorIndex].palette_6[4],position:[0,2*t-e,-1],freqRange:{start:100,end:256}}),Object(r.jsx)(V,{analyzer:this.state.analyzer,color:R[this.state.colorIndex].palette_6[5],position:[0,3*t-e,-1],freqRange:{start:280,end:500}})]})}},{key:"solidColor",value:function(){return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(G,{analyzer:this.state.analyzer,position:[0,0,0]})})}},{key:"cube",value:function(){return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(K,{analyzer:this.state.analyzer,position:[0,0,0]})})}},{key:"bolt",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.01,t=6,a=10,n=a/t;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Z,{analyzer:this.state.analyzer,position:[0,0,0],scaleRate:e,radius:5*n+e,color:R[this.state.colorIndex].palette_6[0],freqRange:{start:0,end:2}}),Object(r.jsx)(Z,{analyzer:this.state.analyzer,position:[0,0,1],scaleRate:e,radius:4*n+e,color:R[this.state.colorIndex].palette_6[1],freqRange:{start:4,end:10}}),Object(r.jsx)(Z,{analyzer:this.state.analyzer,position:[0,0,2],scaleRate:e,radius:3*n+e,color:R[this.state.colorIndex].palette_6[2],freqRange:{start:13,end:22}}),Object(r.jsx)(Z,{analyzer:this.state.analyzer,position:[0,0,3],scaleRate:e,radius:2*n+e,color:R[this.state.colorIndex].palette_6[3],freqRange:{start:40,end:88}}),Object(r.jsx)(Z,{analyzer:this.state.analyzer,position:[0,0,4],scaleRate:e,radius:1*n+e,color:R[this.state.colorIndex].palette_6[4],freqRange:{start:100,end:256}}),Object(r.jsx)(Z,{analyzer:this.state.analyzer,position:[0,0,5],scaleRate:e,radius:0*n+e,color:R[this.state.colorIndex].palette_6[5],freqRange:{start:280,end:500}})]})}},{key:"circular",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01,n=6,s=10,o=s/n;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Q,{analyzer:this.state.analyzer,position:[0,0,0],n:e,ringWidth:t,scaleRate:a,radius:5*o+a,color:R[this.state.colorIndex].palette_6[0],freqRange:{start:0,end:2}}),Object(r.jsx)(Q,{analyzer:this.state.analyzer,position:[0,0,1],n:e,ringWidth:t,scaleRate:a,radius:4*o+a,color:R[this.state.colorIndex].palette_6[1],freqRange:{start:4,end:10}}),Object(r.jsx)(Q,{analyzer:this.state.analyzer,position:[0,0,2],n:e,ringWidth:t,scaleRate:a,radius:3*o+a,color:R[this.state.colorIndex].palette_6[2],freqRange:{start:13,end:22}}),Object(r.jsx)(Q,{analyzer:this.state.analyzer,position:[0,0,3],n:e,ringWidth:t,scaleRate:a,radius:2*o+a,color:R[this.state.colorIndex].palette_6[3],freqRange:{start:40,end:88}}),Object(r.jsx)(Q,{analyzer:this.state.analyzer,position:[0,0,4],n:e,ringWidth:t,scaleRate:a,radius:1*o+a,color:R[this.state.colorIndex].palette_6[4],freqRange:{start:100,end:256}}),Object(r.jsx)(Q,{analyzer:this.state.analyzer,position:[0,0,5],n:e,ringWidth:t,scaleRate:a,radius:0*o+a,color:R[this.state.colorIndex].palette_6[5],freqRange:{start:280,end:500}})]})}},{key:"Racecar",value:function(e,t,a,n,s,o,i){var c=.01;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Y,{analyzer:this.state.analyzer,n:e,size:t,speed:a,lineWidth:n,scaleRate:c,radius:.01,color:R[this.state.colorIndex].palette_6[5],freqRange:{start:280,end:500},loop:s,seperate:o,offaxis:i}),Object(r.jsx)(Y,{analyzer:this.state.analyzer,n:e,size:t,speed:a,lineWidth:n,scaleRate:c,radius:1.6766666666666667,color:R[this.state.colorIndex].palette_6[4],freqRange:{start:100,end:256},loop:s,seperate:o,offaxis:i}),Object(r.jsx)(Y,{analyzer:this.state.analyzer,n:e,size:t,speed:a,lineWidth:n,scaleRate:c,radius:3.3433333333333333,color:R[this.state.colorIndex].palette_6[3],freqRange:{start:40,end:88},loop:s,seperate:o,offaxis:i}),Object(r.jsx)(Y,{analyzer:this.state.analyzer,n:e,size:t,speed:a,lineWidth:n,scaleRate:c,radius:5.01,color:R[this.state.colorIndex].palette_6[2],freqRange:{start:13,end:22},loop:s,seperate:o,offaxis:i}),Object(r.jsx)(Y,{analyzer:this.state.analyzer,n:e,size:t,speed:a,lineWidth:n,scaleRate:c,radius:8.343333333333334,color:R[this.state.colorIndex].palette_6[0],freqRange:{start:0,end:2},loop:s,seperate:o,offaxis:i}),Object(r.jsx)(Y,{analyzer:this.state.analyzer,n:e,size:t,speed:a,lineWidth:n,scaleRate:c,radius:6.676666666666667,color:R[this.state.colorIndex].palette_6[1],freqRange:{start:4,end:10},loop:s,seperate:o,offaxis:i})]})}},{key:"Noise",value:function(e,t,a,n,s,o,i){var c=.01;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)($,{analyzer:this.state.analyzer,n:e,size:t,speed:a,lineWidth:n,scaleRate:c,radius:.01,color:R[this.state.colorIndex].palette_6[5],freqRange:{start:280,end:500},loop:s,seperate:o,offaxis:i}),Object(r.jsx)($,{analyzer:this.state.analyzer,n:e,size:t,speed:a,lineWidth:n,scaleRate:c,radius:1.6766666666666667,color:R[this.state.colorIndex].palette_6[4],freqRange:{start:100,end:256},loop:s,seperate:o,offaxis:i}),Object(r.jsx)($,{analyzer:this.state.analyzer,n:e,size:t,speed:a,lineWidth:n,scaleRate:c,radius:3.3433333333333333,color:R[this.state.colorIndex].palette_6[3],freqRange:{start:40,end:88},loop:s,seperate:o,offaxis:i}),Object(r.jsx)($,{analyzer:this.state.analyzer,n:e,size:t,speed:a,lineWidth:n,scaleRate:c,radius:5.01,color:R[this.state.colorIndex].palette_6[2],freqRange:{start:13,end:22},loop:s,seperate:o,offaxis:i}),Object(r.jsx)($,{analyzer:this.state.analyzer,n:e,size:t,speed:a,lineWidth:n,scaleRate:c,radius:8.343333333333334,color:R[this.state.colorIndex].palette_6[0],freqRange:{start:0,end:2},loop:s,seperate:o,offaxis:i}),Object(r.jsx)($,{analyzer:this.state.analyzer,n:e,size:t,speed:a,lineWidth:n,scaleRate:c,radius:6.676666666666667,color:R[this.state.colorIndex].palette_6[1],freqRange:{start:4,end:10},loop:s,seperate:o,offaxis:i})]})}},{key:"rings",value:function(e,t,a,n){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.01,o=6,i=10,c=i/o;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(J,{analyzer:this.state.analyzer,position:[0,0,0],n:a,ringWidth:n,indexStart:t,scaleRate:s,radius:5*c+s,ringSize:e,color:R[this.state.colorIndex].palette_6[0],freqRange:{start:0,end:2}}),Object(r.jsx)(J,{analyzer:this.state.analyzer,position:[0,0,1],n:a,ringWidth:n,indexStart:t,scaleRate:s,radius:4*c+s,ringSize:e,color:R[this.state.colorIndex].palette_6[1],freqRange:{start:4,end:10}}),Object(r.jsx)(J,{analyzer:this.state.analyzer,position:[0,0,2],n:a,ringWidth:n,indexStart:t,scaleRate:s,radius:3*c+s,ringSize:e,color:R[this.state.colorIndex].palette_6[2],freqRange:{start:13,end:22}}),Object(r.jsx)(J,{analyzer:this.state.analyzer,position:[0,0,3],n:a,ringWidth:n,indexStart:t,scaleRate:s,radius:2*c+s,ringSize:e,color:R[this.state.colorIndex].palette_6[3],freqRange:{start:40,end:88}}),Object(r.jsx)(J,{analyzer:this.state.analyzer,position:[0,0,4],n:a,ringWidth:n,indexStart:t,scaleRate:s,radius:1*c+s,ringSize:e,color:R[this.state.colorIndex].palette_6[4],freqRange:{start:100,end:256}}),Object(r.jsx)(J,{analyzer:this.state.analyzer,position:[0,0,5],n:a,ringWidth:n,indexStart:t,scaleRate:s,radius:0*c+s,ringSize:e,color:R[this.state.colorIndex].palette_6[5],freqRange:{start:280,end:500}})]})}},{key:"verticalLines",value:function(e,t){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(H,{analyzer:this.state.analyzer,color:R[this.state.colorIndex].palette_6[0],position:[-2*t-e,0,-1],freqRange:{start:0,end:2}}),Object(r.jsx)(H,{analyzer:this.state.analyzer,color:R[this.state.colorIndex].palette_6[1],position:[-1*t-e,0,-1],freqRange:{start:4,end:10}}),Object(r.jsx)(H,{analyzer:this.state.analyzer,color:R[this.state.colorIndex].palette_6[2],position:[0-e,0,-1],freqRange:{start:13,end:22}}),Object(r.jsx)(H,{analyzer:this.state.analyzer,color:R[this.state.colorIndex].palette_6[3],position:[1*t-e,0,-1],freqRange:{start:40,end:88}}),Object(r.jsx)(H,{analyzer:this.state.analyzer,color:R[this.state.colorIndex].palette_6[4],position:[2*t-e,0,-1],freqRange:{start:100,end:256}}),Object(r.jsx)(H,{analyzer:this.state.analyzer,color:R[this.state.colorIndex].palette_6[5],position:[3*t-e,0,-1],freqRange:{start:280,end:500}})]})}},{key:"wires",value:function(e,t){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(X,{analyzer:this.state.analyzer,color:R[this.state.colorIndex].palette_11[0],freqRange:{start:0,end:2},position:[0,0,0],flat:t}),Object(r.jsx)(X,{analyzer:this.state.analyzer,color:R[this.state.colorIndex].palette_11[1],freqRange:{start:4,end:10},position:[0+e,0,0],flat:t}),Object(r.jsx)(X,{analyzer:this.state.analyzer,color:R[this.state.colorIndex].palette_11[2],freqRange:{start:12,end:16},position:[0+2*e,0,0],flat:t}),Object(r.jsx)(X,{analyzer:this.state.analyzer,color:R[this.state.colorIndex].palette_11[3],freqRange:{start:18,end:22},position:[0+3*e,0,0],flat:t}),Object(r.jsx)(X,{analyzer:this.state.analyzer,color:R[this.state.colorIndex].palette_11[4],freqRange:{start:40,end:60},position:[0+4*e,0,0],flat:t}),Object(r.jsx)(X,{analyzer:this.state.analyzer,color:R[this.state.colorIndex].palette_11[5],freqRange:{start:62,end:80},position:[0+5*e,0,0],flat:t}),Object(r.jsx)(X,{analyzer:this.state.analyzer,color:R[this.state.colorIndex].palette_11[6],freqRange:{start:82,end:100},position:[0+6*e,0,0],flat:t}),Object(r.jsx)(X,{analyzer:this.state.analyzer,color:R[this.state.colorIndex].palette_11[7],freqRange:{start:100,end:140},position:[0+7*e,0,0],flat:t}),Object(r.jsx)(X,{analyzer:this.state.analyzer,color:R[this.state.colorIndex].palette_11[8],freqRange:{start:146,end:190},position:[0+8*e,0,0],flat:t}),Object(r.jsx)(X,{analyzer:this.state.analyzer,color:R[this.state.colorIndex].palette_11[9],freqRange:{start:264,end:542},position:[0+9*e,0,0],flat:t}),Object(r.jsx)(X,{analyzer:this.state.analyzer,color:R[this.state.colorIndex].palette_11[10],freqRange:{start:550,end:852},position:[0+10*e,0,0],flat:t})]})}},{key:"renderVisualizer",value:function(e,t,a,r,n){switch(e){case"standard":return this.standard(t,a,r,n);case"waveform":return this.waveform(t,a,r,n);case"standardRing":return this.standardRing(t,a,r,n,1);case"foldingRing":return this.standardRing(t,a,r,n,0);case"horizontalLines":return this.horizontalLines(t,a);case"verticalLines":return this.verticalLines(t,a);case"circular":return this.circular(r,n,0);case"bolt":return this.bolt(0);case"rings":return this.rings(.02,1,r,n,0);case"fractal":return this.rings(.02,0,r,n,0);case"solid":return this.solidColor();case"cube":return this.cube();case"wires":return this.wires(t,!1);case"flat":return this.wires(t,!0);case"racecar":return this.Racecar(r,n,t,a,!0,!0,!1);case"trails":return this.Racecar(r,n,t,a,!0,!1,!1);case"slide":return this.Racecar(r,n,t,a,!1,!1,!1);case"noise":return this.Noise(r,n,t,a,!0,!0,!1);case"racecar_off":return this.Racecar(r,n,t,a,!0,!0,!0);case"trails_off":return this.Racecar(r,n,t,a,!0,!1,!0);case"slide_off":return this.Racecar(r,n,t,a,!1,!1,!0);case"noise_off":return this.Noise(r,n,t,a,!0,!0,!0);default:return this.circular(r,n)}}},{key:"render",value:function(){var e=this;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{id:"uiContainer",children:[Object(r.jsxs)("div",{id:"selectContainer",children:[Object(r.jsx)(b.a,{onClick:this.helpClicked,variant:"contained",children:"Options"}),Object(r.jsxs)(g.a,{id:"colorPicker",children:[Object(r.jsx)(x.a,{className:"label MuiFormLabel-root MuiInputLabel-root label MuiInputLabel-formControl MuiInputLabel-animated MuiInputLabel-shrink MuiFormLabel-filled",id:"colorPickerLabel",children:"Background"}),Object(r.jsx)(I.a,{defaultValue:this.state.bgColor,value:this.state.bgColor,onChange:this.backgroundChanged})]}),Object(r.jsxs)(g.a,{children:[Object(r.jsx)(x.a,{className:"label",children:"Visual"}),Object(r.jsx)(m.a,{id:"visualizerType",value:this.state.visualizerType,variant:"outlined",onChange:this.visualizerChanged,children:[{value:"standard",label:"Standard"},{value:"waveform",label:"Waveform"},{value:"standardRing",label:"Circular"},{value:"foldingRing",label:"Folding"},{value:"horizontalLines",label:"Horizontal Lines"},{value:"verticalLines",label:"Vertical Lines"},{value:"circular",label:"Circles"},{value:"bolt",label:"Lightning"},{value:"rings",label:"Rings"},{value:"solid",label:"Solid"},{value:"cube",label:"Cube"},{value:"wires",label:"Wires"},{value:"flat",label:"Flat"},{value:"fractal",label:"Fractal"},{value:"racecar",label:"Race"},{value:"trails",label:"Trails"},{value:"slide",label:"Slide"},{value:"racecar_off",label:"Helix"},{value:"trails_off",label:"Layers"},{value:"slide_off",label:"Carousel"},{value:"noise",label:"Noise"},{value:"noise_off",label:"Static"}].map((function(e){return Object(r.jsx)(O.a,{value:e.value,children:e.label})}))})]}),Object(r.jsxs)(g.a,{children:[Object(r.jsx)(x.a,{className:"label",children:"Palette"}),Object(r.jsx)(m.a,{id:"paletteType",value:this.state.colorIndex,variant:"outlined",onChange:this.paletteChanged,children:R.map((function(e,t){return Object(r.jsx)(O.a,{value:t,children:e.name})}))})]}),Object(r.jsxs)(g.a,{children:[Object(r.jsx)(x.a,{className:"label",children:"Preset"}),Object(r.jsx)(m.a,{id:"selectedPreset",label:"Selected Preset",value:this.state.selectedPreset,variant:"outlined",onChange:this.onPresetSelected,children:this.state.presets.map((function(e,t){return Object(r.jsx)(O.a,{value:t,children:e.presetName})}))})]}),Object(r.jsx)(b.a,{onClick:this.randomPreset,variant:"contained",children:"Random"}),this.isLocalHost&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(z.a,{id:"presetName",value:this.state.presetName,placeholder:"Preset Name",variant:"outlined",onChange:this.presetNameChanged}),Object(r.jsx)(b.a,{id:"savePreset",onClick:this.onSavePreset,disabled:""===this.state.presetName,variant:"contained",children:"Save"})]})]}),Object(r.jsxs)("div",{id:"sliderContainer",children:[Object(r.jsxs)("div",{id:"sliderContainer",children:[Object(r.jsxs)(g.a,{children:[Object(r.jsx)(x.a,{className:"label",children:this.sliderLabels[this.state.visualizerType].param1}),Object(r.jsx)(v.a,{defaultValue:10,value:this.state.param1,step:1,min:1,max:100,valueLabelDisplay:"auto",onChange:this.param1Changed})]}),Object(r.jsxs)(g.a,{children:[Object(r.jsx)(x.a,{className:"label",children:this.sliderLabels[this.state.visualizerType].param2}),Object(r.jsx)(v.a,{defaultValue:.2,value:this.state.param2,step:.1,min:0,max:3,valueLabelDisplay:"auto",onChange:this.param2Changed})]})]}),Object(r.jsxs)("div",{id:"sliderContainer",children:[Object(r.jsxs)(g.a,{children:[Object(r.jsx)(x.a,{className:"label",children:this.sliderLabels[this.state.visualizerType].spread}),Object(r.jsx)(v.a,{defaultValue:10,value:this.state.spread,step:.5,min:0,max:1e3,valueLabelDisplay:"auto",onChange:this.spreadChanged})]}),Object(r.jsxs)(g.a,{children:[Object(r.jsx)(x.a,{className:"label",children:this.sliderLabels[this.state.visualizerType].offset}),Object(r.jsx)(v.a,{defaultValue:.2,value:this.state.offset,step:.1,min:0,max:20,valueLabelDisplay:"auto",onChange:this.offsetChanged})]})]})]}),Object(r.jsx)(U,{open:this.state.showHelp,close:function(){return e.setState({showHelp:!1})},setMicAsInput:this.setMicrophoneAsSource,setSpeakerAsInput:this.setSpeakerAsSource})]}),Object(r.jsxs)(p.a,{onKeyDown:this.onKeyPressed,className:"App",children:[Object(r.jsx)(L,{}),Object(r.jsx)("ambientLight",{intensity:.5}),this.renderVisualizer(this.state.visualizerType,this.state.spread,this.state.offset,this.state.param1,this.state.param2)]}),Object(r.jsx)("div",{id:"alert-text"})]})}}]),a}(s.a.Component),te=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,204)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,s=t.getLCP,o=t.getTTFB;a(e),r(e),n(e),s(e),o(e)}))};i.a.render(Object(r.jsx)(ee,{}),document.getElementById("root")),te()}},[[148,1,2]]]);
//# sourceMappingURL=main.0515e1f6.chunk.js.map